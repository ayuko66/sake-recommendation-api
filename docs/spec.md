# 日本酒レコメンドシステム MVP
仕様書 / 設計書

---

# 1. 仕様書 (WHAT)

## 1.1 プロダクト概要

### 一文定義
ユーザーの嗜好(料理・食材・自然文)から  
**日本酒の味の方向性を推定し、ミスマッチを防ぐレコメンドAPI**

### 想定ユーザー
- 日本酒EC運営者
- オンライン販売を行う酒屋
- 将来的には一般ユーザー向けアプリも想定

---

## 1.2 解決したい課題

- 味のイメージ違いによる「ハズレ購入」
- 初見銘柄が選びにくい問題
- 日本酒の専門用語が分からなくても選びたい

---

## 1.3 MVPのゴール

- GitHub公開できるポートフォリオ
- FastAPI + ML/LLM/NLP を使った実用的API
- レコメンド設計の思考プロセスを示す

---

## 1.4 スコープ (MVP)

### やること
- 自由文(料理・食材・好み)から日本酒をレコメンド
- 出力は **「銘柄名」まで固定**
- 全国の流通酒を対象(限定酒は除外)

### やらないこと
- 価格最適化
- 在庫連動
- 精米歩合や酵母などの専門的説明

---

## 1.5 入力仕様

### 入力例(自由文)
- 「白身魚とハーブ系の料理に合うお酒」
- 「甘すぎず、ワインっぽい日本酒が好き」
- 「寒菊ホワイトが好き」

---

## 1.6 味の方向性定義

MVPでは以下 **4軸** を扱う。

| 軸 | 値の例 |
|---|---|
| 甘口 ↔ 辛口 | -1.0 ～ 1.0 |
| 淡麗 ↔ 芳醇 | -1.0 ～ 1.0 |
| フルーティ度 | low / mid / high |
| モダン ↔ クラシック | -1.0 ～ 1.0 |

※ すべて **連続値 or 疑似連続値** で保持する

---

## 1.7 出力仕様

```json
{
  "input_text": "白身魚とハーブ系の料理に合う日本酒",
  "recommendations": [
    {
      "sake_id": 101,
      "name": "〇〇 純米吟醸",
      "similarity_score": 0.86,
      "taste_profile": {
        "sweet_dry": 0.2,
        "body": -0.4,
        "fruity": "high",
        "style": 0.6
      },
      "reason": "軽やかでフルーティな方向性が料理と相性が良いため"
    }
  ]
}